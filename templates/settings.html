{% extends "base.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
<style>
    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .btn-primary { background-color: var(--accent-color); color: white; padding: 10px 18px; text-decoration: none; border-radius: 6px; font-weight: 500; }
    .data-table { width: 100%; border-collapse: collapse; }
    .data-table th, .data-table td { padding: 12px 15px; text-align: left; border-bottom: 1px solid var(--border-color); }
    .data-table th { background-color: #f9fafb; font-weight: 600; }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 25px; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: var(--text-secondary); }
    .form-group select { width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; box-sizing: border-box; }
    button { background-color: var(--accent-color); color: white; border: none; padding: 12px 20px; border-radius: 6px; font-weight: 500; cursor: pointer; }
</style>

<h1>Settings</h1>

<div class="card">
    <h2>Appearance Settings</h2>
    <form action="{{ url_for('change_appearance') }}" method="POST">
        <div class="form-grid">
            <div class="form-group">
                <label for="theme">Application Theme</label>
                <select name="theme" id="theme">
                    <option value="default" {% if current_user.theme == 'default' %}selected{% endif %}>Default</option>
                    <option value="dark" {% if current_user.theme == 'dark' %}selected{% endif %}>Dark</option>
                    <option value="light" {% if current_user.theme == 'light' %}selected{% endif %}>Light</option>
                    <option value="blue" {% if current_user.theme == 'blue' %}selected{% endif %}>Blue</option>
                    <option value="ocean" {% if current_user.theme == 'ocean' %}selected{% endif %}>Ocean</option>
                    <option value="skyblue" {% if current_user.theme == 'skyblue' %}selected{% endif %}>Sky Blue</option>
                    <option value="darkgreen" {% if current_user.theme == 'darkgreen' %}selected{% endif %}>Dark Green</option>
                    <option value="darkgold" {% if current_user.theme == 'darkgold' %}selected{% endif %}>Dark Gold</option>
                </select>
            </div>
            <div class="form-group">
                <label for="font_style">Font Style</label>
                <select name="font_style" id="font_style">
                    <option value="inter" {% if current_user.font_style == 'inter' %}selected{% endif %}>Inter (Modern)</option>
                    <option value="poppins" {% if current_user.font_style == 'poppins' %}selected{% endif %}>Poppins (Rounded)</option>
                    <option value="roboto-slab" {% if current_user.font_style == 'roboto-slab' %}selected{% endif %}>Roboto Slab (Serif)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="font_size">Font Size</label>
                <select name="font_size" id="font_size">
                    <option value="small" {% if current_user.font_size == 'small' %}selected{% endif %}>Small</option>
                    <option value="normal" {% if current_user.font_size == 'normal' %}selected{% endif %}>Normal</option>
                    <option value="large" {% if current_user.font_size == 'large' %}selected{% endif %}>Large</option>
                </select>
            </div>
        </div>
        <button type="submit">Save Appearance</button>
    </form>
</div>

<div class="card">
    <div class="page-header">
        <h2>User Management</h2>
        <a href="{{ url_for('add_user') }}" class="btn-primary">Add New User</a>
    </div>
    <table class="data-table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role | title }}</td>
                <td>
                    <a href="{{ url_for('edit_user', user_id=user.id) }}">Edit</a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4">No users found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}