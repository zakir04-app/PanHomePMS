{% extends "base.html" %}

{% block title %}View Maintenance Report{% endblock %}

{% block content %}
<style>
    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .btn-secondary { background-color: #6c757d; color: white; padding: 10px 18px; text-decoration: none; border-radius: 6px; font-weight: 500; }
    .detail-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;}
    .detail-item strong { color: var(--text-secondary); display: block; margin-bottom: 5px; }
    .detail-item span { font-size: 1.1rem; }
    .detail-full { border-top: 1px solid var(--border-color); padding-top: 20px; margin-top: 20px; }
</style>

<div class="page-header">
    <h1>Maintenance Report Details</h1>
    <a href="{{ url_for('maintenance_report') }}" class="btn-secondary">Back to List</a>
</div>

<div class="card">
    <div class="detail-grid">
        <div class="detail-item">
            <strong>Report Date</strong>
            <span>{{ report.report_date }}</span>
        </div>
        <div class="detail-item">
            <strong>Status</strong>
            <span>{{ report.status }}</span>
        </div>
        <div class="detail-item">
            <strong>Block</strong>
            <span>{{ report.block }}</span>
        </div>
        <div class="detail-item">
            <strong>Section / Room</strong>
            <span>{{ report.section }}</span>
        </div>
        <div class="detail-item">
            <strong>Concern</strong>
            <span>{{ report.concern or 'N/A' }}</span>
        </div>
        <div class="detail-item">
            <strong>Risk Level</strong>
            <span>{{ report.risk or 'N/A' }}</span>
        </div>
    </div>
    <div class="detail-full">
        <strong>Details of Issue</strong>
        <p>{{ report.details }}</p>
    </div>
    <div class="detail-full">
        <strong>Remarks</strong>
        <p>{{ report.remarks or 'No remarks.' }}</p>
    </div>
    {% if report.attached_file %}
    <div class="detail-full">
        <strong>Attached File</strong>
        <p><a href="{{ url_for('download_file', filename=report.attached_file) }}">Download Attachment</a></p>
    </div>
    {% endif %}
</div>
{% endblock %}